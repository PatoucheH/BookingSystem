@page
@model BookingSystem.Areas.Identity.Pages.Account.Manage.MyBookingsModel
@{
    ViewData["Title"] = "List Bookings";
    Layout = "~/Views/Shared/_ManageLayout.cshtml";
}

<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-xl min-w-lg mx-auto">
        <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-2">List of all my bookings</h2>
            <table class="table-auto border-collapse border border-gray-400 w-full">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="border border-gray-400 px-4 py-2">Title</th>
                        <th class="border border-gray-400 px-4 py-2">Location</th>
                        <th class="border border-gray-400 px-4 py-2">Start Date</th>
                        <th class="border border-gray-400 px-4 py-2">End Date</th>
                        <th class="border border-gray-400 px-4 py-2">Status</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var booking in Model.Bookings)
                    {
                        <tr>
                            <td class="border border-gray-300 px-4 py-2">@booking.Title</td>
                            <td class="border border-gray-300 px-4 py-2">@booking.Town, @booking.Country</td>
                            <td class="border border-gray-300 px-4 py-2">@booking.StartDate</td>
                            <td class="border border-gray-300 px-4 py-2">@booking.EndDate</td>
                            <td class="border border-gray-300 px-4 py-2">
                                @if(booking.StartDate > DateTime.Now)
                                {
                                    <span class="text-green-600 font-semibold">Incoming</span>
                                }
                                else if(booking.StartDate <= DateTime.Now && booking.EndDate >= DateTime.Now)
                                {
                                    <span class="text-amber-600 font-semibold">Ongoing</span>
                                }
                                else
                                {
                                    <span class="text-gray-600 font-semibold">Passed</span>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>